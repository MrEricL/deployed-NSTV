{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/eric/test/NSVT-FINAL/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from\"react\";import\"./FolderDialog.style.css\";import Button from\"../buttons/Button\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.headers.common[\"Access-Control-Allow-Origin\"]=\"*\";var FolderDialog=/*#__PURE__*/function(_React$Component){_inherits(FolderDialog,_React$Component);var _super=_createSuper(FolderDialog);function FolderDialog(props){var _this;_classCallCheck(this,FolderDialog);_this=_super.call(this,props);_this.state={selectedFile:\"\",isFilePicked:false};_this.postSelectedFile=_this.postSelectedFile.bind(_assertThisInitialized(_this));_this.changeHandler=_this.changeHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(FolderDialog,[{key:\"changeHandler\",value:function changeHandler(event){this.setState({selectedFile:event.target.files[0]});this.setState({isFilePicked:true});console.log(event.target.files[0]);}},{key:\"postSelectedFile\",value:function(){var _postSelectedFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(selectedFile){var _this2=this;var formData,tempArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append(\"file\",selectedFile);tempArray=[];_context.next=5;return axios.post(\"http://127.0.0.1:5000/process\",formData).then(function(response){console.log(\"this is response\",response);_this2.props.changeAudio(response.data.audio_in.substring(2,response.data.audio_in.length-1),response.data.audio_out.substring(2,response.data.audio_out.length-1));console.log(\"comparison\",response.data.audio_out.substring(2,response.data.audio_out.length-1).length,response.data.audio_in.substring(2,response.data.audio_in.length-1).length);return response;}).then(function(text){tempArray=JSON.parse(text.data.data);});case 5:this.props.changeArrays(tempArray);this.setState({isFilePicked:false});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function postSelectedFile(_x){return _postSelectedFile.apply(this,arguments);}return postSelectedFile;}()},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{class:\"cards\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Select File:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Choose the sound file you want to run through the visualizer.\"}),!this.state.isFilePicked?/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:this.changeHandler}):/*#__PURE__*/_jsx(Button,{title:\"Convert File\",class:\"button\",handleSubmission:function handleSubmission(){return _this3.postSelectedFile(_this3.state.selectedFile);}})]})});}}]);return FolderDialog;}(React.Component);export default FolderDialog;","map":{"version":3,"sources":["/Users/eric/test/NSVT-FINAL/my-app/src/components/FolderDialog/FolderDialog.js"],"names":["React","useState","Button","axios","defaults","headers","common","FolderDialog","props","state","selectedFile","isFilePicked","postSelectedFile","bind","changeHandler","event","setState","target","files","console","log","formData","FormData","append","tempArray","post","then","response","changeAudio","data","audio_in","substring","length","audio_out","text","JSON","parse","changeArrays","Component"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./FolderDialog.style.css\";\r\nimport Button from \"../buttons/Button\";\r\nimport axios from \"axios\";\r\naxios.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\r\n\r\nclass FolderDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedFile: \"\",\r\n      isFilePicked: false,\r\n    };\r\n    this.postSelectedFile = this.postSelectedFile.bind(this);\r\n    this.changeHandler = this.changeHandler.bind(this);\r\n  }\r\n\r\n  changeHandler(event) {\r\n    this.setState({ selectedFile: event.target.files[0] });\r\n    this.setState({ isFilePicked: true });\r\n    console.log(event.target.files[0]);\r\n  }\r\n\r\n  async postSelectedFile(selectedFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", selectedFile);\r\n    var tempArray = [];\r\n\r\n    await axios\r\n      .post(\"http://127.0.0.1:5000/process\", formData)\r\n\r\n      .then((response) => {\r\n        console.log(\"this is response\", response);\r\n        this.props.changeAudio(\r\n          response.data.audio_in.substring(2, response.data.audio_in.length - 1),\r\n\t\t  response.data.audio_out.substring(2, response.data.audio_out.length - 1)\r\n        );\r\n\t\r\n        console.log(\r\n          \"comparison\",\r\n          response.data.audio_out.substring(2, response.data.audio_out.length - 1).length,\r\n\t\t  response.data.audio_in.substring(2, response.data.audio_in.length - 1).length\r\n        );\r\n        return response;\r\n      })\r\n\r\n      .then(function (text) {\r\n        tempArray = JSON.parse(text.data.data);\r\n      });\r\n\r\n    this.props.changeArrays(tempArray);\r\n\r\n    this.setState({ isFilePicked: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"cards\">\r\n        <div>\r\n          <h5>Select File:</h5>\r\n          <p>Choose the sound file you want to run through the visualizer.</p>\r\n\r\n          {!this.state.isFilePicked ? (\r\n            <input type=\"file\" name=\"file\" onChange={this.changeHandler} />\r\n          ) : (\r\n            <Button\r\n              title=\"Convert File\"\r\n\t\t\t  class=\"button\"\r\n              handleSubmission={() =>\r\n                this.postSelectedFile(this.state.selectedFile)\r\n              }\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FolderDialog;\r\n"]},"metadata":{},"sourceType":"module"}